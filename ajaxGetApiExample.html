<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
</head>

<body>
    <script>
       
        let data;

        $.ajax({
            url: 'http://mospc.cook.as.ntu.edu.tw/getCWBobs.php',
            type: 'GET',
            success: () => {
                console.log("success get data");
            },
            error: (XMLHttpRequest, textStatus, errorThrown) => {
                console.log("Status: " + textStatus + "Data Get Error: " + errorThrown);
            }
        }).done((data) => {
            data = JSON.parse(data);
            console.log("done:", data);
            // TODO ...
        });

        console.log("This should be undefined:", data);
    </script>
</body>

</html>